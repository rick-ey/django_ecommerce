{% extends "__base.html" %}
{% block content %}
<div class="row">
  <div class="span6 columns">
  </div>
</div>
<div class="page-header">
  <h1>Register Today!</h1>
</div>
<div class="row">
  <div class="span6 columns">
    <section class="container" ng-controller='RegisterCtrl'>
      <form name="{{form.form_name}}" accept-charset="UTF-8" novalidate="" class="form-signin" role="form" ng-submit="register()">
      {% csrf_token %}
      <div class="alert" ng-show="register_errors"> <a class="close" data-dismiss="alert">x</a>
        <div class="errors">
          <p ng-repeat="error in register_errors">[[ error ]]</p>
        </div>
      </div>
      {% for field in form.visible_fields %}
      {% include "payments/_field.html" %}
      {% endfor %}
      <div id="change-card" class="clearfix"{% if not form.last_4_digits.value %} style="display: none"{% endif %}>
        Card
        <div class="input">
          Using card ending with {{ form.last_4_digits.value }}
          (<a href="#">change</a>)
        </div>
      </div>
      {% include "payments/_cardform.html" %}
      </form>
    </section>
  </div>
</div>
{% endblock %}
